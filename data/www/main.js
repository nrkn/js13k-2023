(()=>{"use strict";const e=160,o=16;let t=0,n=e;const r=()=>{t=innerWidth>innerHeight?1:2,n=Math.floor((1===t?innerWidth:innerHeight)/(1===t?innerHeight:innerWidth)*e)},a=()=>1===t?n:e,d=()=>1===t?e:n,i=c.getContext("2d"),h=(e,o,t,n,r,a,d)=>i.drawImage(e,n,r,o,t,a,d,o,t),l=[];onkeydown=e=>{87!==e.keyCode&&38!==e.keyCode||(l[1]=1),83!==e.keyCode&&40!==e.keyCode||(l[2]=1),65!==e.keyCode&&37!==e.keyCode||(l[3]=1),68!==e.keyCode&&39!==e.keyCode||(l[4]=1)},onkeyup=e=>{87!==e.keyCode&&38!==e.keyCode||(l[1]=0),83!==e.keyCode&&40!==e.keyCode||(l[2]=0),65!==e.keyCode&&37!==e.keyCode||(l[3]=0),68!==e.keyCode&&39!==e.keyCode||(l[4]=0)};let s,y,k=0,C=0,f=0,M=0;const g=e=>{(e=>{k||(k=e),C=e-k,f=Math.floor(C/500)%2})(e),(()=>{const e=C-M>125;s=u,y=w,l[1]&&e&&(w--,M=C),l[2]&&e&&(w++,M=C),l[3]&&e&&(u--,M=C),l[4]&&e&&(u++,M=C),p[2][w*p[0]+u][0]<=8&&(u=s,w=y)})(),c.width=a(),c.height=d(),(()=>{const[e,t,n,r,i,c]=((e,t,n,r)=>{let a=Math.ceil(n/o),d=Math.ceil(r/o);a=a%2?a:a+1,d=d%2?d:d+1;const i=(a-1)/2,c=(d-1)/2;return[a,d,t-c,e-i,Math.floor(n/2-8-i*o),Math.floor(r/2-8-c*o)]})(u,w,a(),d()),[h,l,s]=p;let y=i,k=c;for(let a=n;a<n+t;a++)if(!(a<0||a>=l)){for(let t=r;t<r+e;t++){if(t<0||t>=h)continue;const e=s[a*h+t][0];H(e,y,k),y+=o}y=i,k+=o}})(),(()=>{const e="RANGER";for(let o=0;o<e.length;o++){const t=e.charCodeAt(o);A(t,8*o,0)}})(),W(0+f,Math.floor(a()/2-8),Math.floor(d()/2-8)),requestAnimationFrame(g)};let m,u=0,w=0,p=((e,o)=>{const t=[];for(let e=0;e<160;e++)for(let e=0;e<160;e++){const e=Math.random()<.75,o=e?13:2,n=e?8:4,r=Math.floor(Math.random()*n)+o;t.push([r])}return[160,160,t]})();const A=(e,o,t)=>h(m,8,8,8*(e-32),32,o,t),H=(e,t,n)=>h(m,o,o,e*o,0,t,n),W=(e,t,n)=>h(m,o,o,e*o,16,t,n);(async()=>{m=await("a.png",new Promise((e=>{const o=new Image;o.onload=()=>e(o),o.src="a.png"}))),u||w||(u=Math.floor(p[0]/2),w=Math.floor(p[1]/2)),onresize=r,r(),requestAnimationFrame(g)})().catch(console.error)})();