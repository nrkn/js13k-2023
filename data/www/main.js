(()=>{"use strict";const t=160,o=16;let e=0,n=t;const r=()=>{e=innerWidth>innerHeight?1:2,n=Math.floor((1===e?innerWidth:innerHeight)/(1===e?innerHeight:innerWidth)*t),m()};let i=0,h=0,a=0,s=0,f=0,d=0,g=0,M=0;const m=()=>{i||h||(i=Math.floor(H[0]/2),h=Math.floor(H[1]/2));const r=1===e?n:t,l=1===e?t:n;a=Math.ceil(r/o),s=Math.ceil(l/o),a=a%2?a:a+1,s=s%2?s:s+1;const c=(a-1)/2,m=(s-1)/2;d=i-c,f=h-m,g=Math.floor(r/2-8-c*o),M=Math.floor(l/2-8-m*o)},u=c.getContext("2d"),w=r=>{c.width=1===e?n:t,c.height=1===e?t:n;const[l,i,h]=H;let m=g,u=M;for(let t=f;t<f+s;t++)if(!(t<0||t>=i)){for(let e=d;e<d+a;e++){if(e<0||e>=l)continue;const n=h[t*l+e][0];W(n,m,u),m+=o}m=g,u+=o}const p="RANGER";for(let t=0;t<p.length;t++){const o=p.charCodeAt(t);I(o,t,0)}q(0,Math.floor(c.width/2-8),Math.floor(c.height/2-8)),requestAnimationFrame(w)};let p,A,N,H=((t,o)=>{const e=[];for(let t=0;t<160;t++)for(let t=0;t<160;t++){const t=Math.random(),o=Math.floor(Math.random()*(t<.25?4:6))+(t<.25?9:3);e.push([o])}return[160,160,e]})();console.log(H);const I=(t,o,e)=>{const n=8*(t-32);u.drawImage(p,n,0,8,8,8*o,8*e,8,8)},W=(t,e,n)=>{const r=t*o;u.drawImage(A,r,0,o,o,e,n,o,o)},q=(t,e,n)=>{const r=t*o;u.drawImage(N,r,0,o,o,e,n,o,o)},C=(t,o)=>{l.onload=o,l.src=t};C("f.gif",(()=>{p=l.cloneNode(!0),C("p.gif",(()=>{N=l.cloneNode(!0),C("t.gif",(()=>{A=l.cloneNode(!0),console.log({fontSprites:p,tileSprites:A}),onresize=r,r(),requestAnimationFrame(w)}))}))}))})();